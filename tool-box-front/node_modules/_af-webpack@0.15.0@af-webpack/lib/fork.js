"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = start;

var _child_process = require("child_process");

var _send = _interopRequireWildcard(require("./send"));

function start(devScriptPath) {
  var devProcess = (0, _child_process.fork)(devScriptPath, process.argv.slice(2));
  devProcess.on('message', function (data) {
    var type = data && data.type || null;

    if (type === _send.RESTART) {
      devProcess.kill('SIGINT');
      start(devScriptPath);
    }

    (0, _send.default)(data);
  });
}